<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        table,
        tr,
        td {
            border: 5px solid black;
            border-collapse: collapse;
            text-align: center;
            padding: 8px
        }
    </style>
</head>
<body>
    <table id="idTabel">
    </table>
    <br>
    <input type="text" id="jumlahRotate"><br> <br>
    <input type="button" value="Rotate Kiri" onclick="Rotate()">
    <input type="button" value="Rotate Kanan" onclick="rotateClockwise(arr)">
    <br><br>
    <input type="button" onclick="Reset()" value="reset">
</body>
<script>
    let arr = [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12], [13, 14, 15, 16]]
    const tampilan = () => {
        let display = ''
        let kolom = ''
        for (let i = 0; i < arr.length; i++) {
            for (let j = 0; j < arr[i].length; j++) {
                kolom +=
                    `
                
                <td>${arr[i][j]} </td>     
                  
                `
            }
            kolom += `<td> <input type="button" onclick="fungsiSort(${i})" value="sort"> </td>`
            display += `<tr> ${kolom}  </tr>`
            kolom = ''
            if (i == arr.length - 1) {
                for (let i = 0; i < 4; i++) {
                    display += `
                                    <td><input type="button" onclick="pungsiSort(${i})" value="sort"></td>
                                `
                }
            }
        }
        document.getElementById("idTabel").innerHTML = display
    }
    let switchSort = 0
    const pungsiSort = (i) =>{
        let ArrBaru = []
        for (let j = 0; j < arr.length; j++) {  
          ArrBaru.push(arr[j][i])
        }
        if (switchSort == 0){
            switchSort++
                ArrBaru.sort((a,b)=>{
                    return b-a
                })
        } else {
            switchSort--
                ArrBaru.sort((a,b)=>{
                    return a-b
                })
        }
        for (let x = 0; x < arr.length; x++) {
            arr[x][i] = ArrBaru[x]
        }
        tampilan()
    }
    const fungsiSort = (i) =>{
        
        if (switchSort == 0){
            switchSort++
                arr[i].sort((a,b)=>{
                    return b-a
                })
        } else {
            switchSort--
                arr[i].sort((a,b)=>{
                    return a-b
                })
        }
        tampilan()
        
    }
    const Reset = () =>{
        arr = [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12], [13, 14, 15, 16]]
        tampilan()
    }
    const rotateClockwise = (arr) => {
        var n=arr.length;
        let jumlahRotate = document.getElementById('jumlahRotate').value
        let a = parseInt(jumlahRotate) 
        
        for (let x = 1 ; x <= a ; x++ ) {
            
            for (var i=0; i<n; i++) {
                for (var j=i; j<n-i-1; j++) {
                    var tmp=arr[i][j];
                    arr[i][j]=arr[n-j-1][i];
                    arr[n-j-1][i]=arr[n-i-1][n-j-1];
                    arr[n-i-1][n-j-1]=arr[j][n-i-1];
                    arr[j][n-i-1]=tmp;
                }
            }
        }
        tampilan()
    }
    tampilan()
</script>
</html>