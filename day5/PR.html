<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        let arrItemBuah = ['Mangga', 'Anggur', 'Sirsak', 'Durian', 'Pepaya']
        let arrStokBuah = [20, 50, 30, 15, 25]
        let arrHargaBuah = [7000, 10000, 3000, 15000, 4000]
        let arrInput = [0, 0, 0, 0, 0]
        let menu = ''
        let pilih = ''
        let jumlah1, jumlah2, jumlah3, jumlah4, jumlah5, jumlahtot, uang, kembalian
        let repeat = true

        do {
        let menuFull = 'pilih menu di bawah ini\n '
        for (let i = 0; i < arrItemBuah.length; i++) {

            menuFull += (i + 1) + ` harga buah ${arrItemBuah[i]} Rp ${arrHargaBuah[i]},- dengan stok ${arrStokBuah[i]}\n`
        }
            menuFull += '\n6 bayar \n7 Exit'
            pilih = parseInt(prompt(menuFull))


            let kondisi = true
            if (pilih == 1) {
                do {
                    arrInput[0] = parseInt(prompt(`Harga ${arrItemBuah[0]} perkilo ${arrHargaBuah[0]}\nmasukan jumlah mangga`))
                    if (arrInput[0] < arrStokBuah[0]) {
                        jumlah1 = arrInput[0] * arrHargaBuah[0]
                        alert(`Anda membeli ${arrInput[0]} ${arrItemBuah[0]} dengan total harga ${jumlah1}
                        untuk membayar silahkan pilih no 6 pada menu awal`)
                        kondisi = false
                    }
                    else {
                        alert('stok tidak mencukupi')
                        kondisi = true
                    }
                }
                while (kondisi)
            }
            else if (pilih == 2) {
                do {
                    arrInput[1] = parseInt(prompt(`Harga ${arrItemBuah[1]} perkilo ${arrHargaBuah[1]} \nmasukan jumlah mangga`))
                    if (arrInput[1] < arrStokBuah[1]) {
                        jumlah2 = arrInput[1] * arrHargaBuah[1]
                        alert(`Anda membeli ${arrInput[1]} ${arrItemBuah[1]} dengan total harga ${jumlah2}
                        untuk membayar silahkan pilih no 6 pada menu awal`)
                        kondisi = false
                    }
                    else {
                        alert('Stok Anggur tidak mencukupi')
                        kondisi = true
                    }
                }
                while (kondisi)
            }
            else if (pilih == 3) {
                do {
                    arrInput[2] = parseInt(prompt(`Harga ${arrItemBuah[2]} perkilo ${arrHargaBuah[2]} \n masukan jumlah mangga`))
                    if (arrInput[2] < arrStokBuah[2]) {
                        jumlah3 = arrInput[2] * arrHargaBuah[2]
                        alert(`Anda membeli ${arrInput[2]} ${arrItemBuah[2]} dengan total harga ${jumlah3}
                        untuk membayar silahkan pilih no 6 pada menu awal`)
                        kondisi = false
                    }
                    else {
                        alert('stok sirsak tidak mencukupi')
                        kondisi = true
                    }
                }
                while (kondisi)
            }
            else if (pilih == 4) {
                do {
                    arrInput[3] = parseInt(prompt(`Harga ${arrItemBuah[3]} perkilo ${arrHargaBuah[3]} \n masukan jumlah mangga`))
                    if (arrInput[3] < arrStokBuah[3]) {
                        jumlah4 = arrInput[3] * arrHargaBuah[3]
                        alert(`Anda membeli ${arrInput[3]} ${arrItemBuah[3]} dengan total harga ${jumlah4}
                        untuk membayar silahkan pilih no 6 pada menu awal`)
                        kondisi = false
                    }
                    else {
                        alert('Stok Durian tidak mencukupi')
                        kondisi = true
                    }
                }
                while (kondisi)
            }
            else if (pilih == 5) {
                do {
                    arrInput[4] = parseInt(prompt(`Harga ${arrItemBuah[4]} perkilo ${arrHargaBuah[4]} \n masukan jumlah mangga`))
                    if (arrInput[4] < arrStokBuah[4]) {
                        jumlah5 = arrInput[4] * arrHargaBuah[4]
                        alert(`Anda membeli ${arrInput[4]} ${arrItemBuah[4]} dengan total harga ${jumlah5}
                        untuk membayar silahkan pilih no 6 pada menu awal`)
                        kondisi = false
                    }
                    else {
                        alert('Stok Pepaya tidak mencukupi')
                        kondisi = true
                    }
                }
                while (kondisi)
            }
            else if (pilih == 6) {
                jumlahtot = 0
                for (i = 0; i < arrItemBuah.length; i++) {
                    jumlahtot = jumlahtot + (arrHargaBuah[i] * arrInput[i])
                }
                alert(`total semua belanjaan >>> ${jumlahtot}`)
                let kurang = false
                do {
                    
                    if (kurang){
                        alert('anda harus membayar kurangan senilai ' + jumlahtot)
                    }
                    uang = parseInt(prompt('silakan masukan uang yang di bayar'))
                    let kembalian = uang - jumlahtot
                    //jumlahtot = jumlahtot - uang

                    if (kembalian > 0) {
                        alert('uang anda ' + uang + '\ntotal dibayar ' + jumlahtot + '\nkembalian ' + kembalian)
                        kondisi = false
                    }
                    else if (kembalian < 0) {
                        jumlahtot -= uang
                        alert('uang anda kurang')
                        kurang = true
                    }
                    else {
                        (kembalian == 0)
                        alert('anda membayar dengan uang pas')
                        kondisi = false
                    }
                }
                while (kondisi)
                repeat = confirm('apakah anda mau belanja lagi')
                if (repeat == true) {
                    arrStokBuah[0] = arrStokBuah[0] - arrInput[0]
                    arrStokBuah[1] = arrStokBuah[1] - arrInput[1]
                    arrStokBuah[2] = arrStokBuah[2] - arrInput[2]
                    arrStokBuah[3] = arrStokBuah[3] - arrInput[3]
                    arrStokBuah[4] = arrStokBuah[4] - arrInput[4]
                    repeat = true
                }
                else{
                    repeat =false
                }
            }
            else if (pilih = 7){
                repeat = confirm('apakah anda ingin keluar')
                repeat = false
            }
            else {
                alert('anda salah input')
                repeat = true
            }
        }
        while (repeat == true)


    </script>
</body>

</html>